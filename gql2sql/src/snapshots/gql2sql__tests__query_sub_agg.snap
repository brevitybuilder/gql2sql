---
source: gql2sql/src/lib.rs
expression: statement.to_string()
---
SELECT json_build_object('testing', (SELECT coalesce(json_agg(to_json((SELECT "root" FROM (SELECT "base"."id", "base"."created_at", "base"."updated_at", "join.anothers" AS "anothers", "join.stuff" AS "stuff") AS "root"))), '[]') AS "root" FROM (SELECT * FROM "UcwtYEtmmpXagcpcRiYKC") AS "base" LEFT JOIN LATERAL (SELECT json_build_object('count', COUNT(*), 'avg', json_build_object('value', AVG("value"))) AS "join.anothers" FROM (SELECT * FROM "N8Ag4Vgad4rYwcRmMJhGR" WHERE "N8Ag4Vgad4rYwcRmMJhGR"."id" = "base"."xb8nemrkchVQgxkXkCPhE") AS "base.N8Ag4Vgad4rYwcRmMJhGR") AS "join.anothers.N8Ag4Vgad4rYwcRmMJhGR" ON ('true') LEFT JOIN LATERAL (SELECT to_json((SELECT "root" FROM (SELECT "base.iYrk3kyTqaDQrLgjDaE9n"."eT86hgrpFB49r7N6AXz63", "base.iYrk3kyTqaDQrLgjDaE9n"."id") AS "root")) AS "join.stuff" FROM (SELECT * FROM "iYrk3kyTqaDQrLgjDaE9n" WHERE "iYrk3kyTqaDQrLgjDaE9n"."eT86hgrpFB49r7N6AXz63" = "base"."id" LIMIT 1) AS "base.iYrk3kyTqaDQrLgjDaE9n") AS "join.stuff.iYrk3kyTqaDQrLgjDaE9n" ON ('true'))) AS "data"
